\" .ER
.TH "miranda" "l" "1.0" "Anton Enright" "The miRanda Package"
.SH "NAME"
miranda \- Finds potential target sites for miRNAs in genomic sequence
.SH "SYNOPSIS"
Basic Usage:
.br
\fBmiranda\fP \fIfile1\fP \fIfile2\fP [ \fIoptions\fP ... ]


Advanced:
.br
\fBmiranda\fP \fIfile1\fP \fIfile2\fP [\-sc\ \fIscore\fP] [\-en\ \fIenergy\fP] [\-scale\ \fIscale\fP] [\-loose\] [\-go\ \fIX\fP] [\-ge\ \fIY\fP] [\-out\ \fIfileout\fP] [\-quiet\] [\-trim\ \fIT\fP] [\-noenergy\] [\-shuffle\] [\-s\ \fInshuff\fP] [\-w\ \fIW\fP] [\-uniform\] [\-z\ \fIzscore\fP]

.SH "DESCRIPTION"
.I \fBmiRanda\fP
is an algorithm for the detection of potential microRNA target
sites in genomic sequences. \fBmiRanda\fP
reads RNA sequences (such as microRNAs) from \fBfile1\fP and genomic
DNA/RNA sequences from \fBfile2\fP. Both of these files should be in
FASTA format. This is an example of a FASTA formatted sequence:
.PP
>embl|AJ550546|DME550546 Drosophila melanogaster microRNA miR-bantam 
.br
GTGAGAUCAUUUUGAAAGCUG
.PP
One or more miRNA sequences from \fBfile1\fP are scanned
against all sequences in \fBfile2\fP and potential target sites are
reported. Potential target sites are identified using a two-step strategy.
First a dynamic programming local alignment is carried out between the 
query miRNA sequence and the reference sequence. This alignment procedure
scores based on sequence complementarity and not on sequence identity.
In other words we look for A:U and G:C matches instead of A:A, G:G, etc.
The G:U wobble bair is also permitted, but generally scores less than
the more optimal matches. Here is an example alignment:
.PP
    \fBQuery:\fP  3' GTCGAAAGTTTTACTAGAGTG 5' (eg. miRNA)
.br
               \fB:||:||||| |||||||||| \fP
.br
    \fBRef:  \fP  5' TAGTTTTCACAATGATCTCGG 3' (eg. 3'UTR)
.PP
The second phase of the algorithm takes high-scoring alignments
(Those above a score threshold, defined by \fB-sc\fP)
detected from phase 1 and estimates the thermodynamic stability
of RNA duplexes based on these alignments.
This second phase of the method utilizes folding routines from
the \fBRNAlib\fP library, which is part of the \fBViennaRNA\fP package written
by Ivo Hofacker. At this stage we generate a constrained fictional
single-stranded RNA composed of the query sequence, a linker
and the reference sequence (reversed). This structure then folded
using \fBRNAlib\fP and the minimum free energy (DG kcal/mol) is
calculated for that structure.
.PP
Finally, detected targets with energies less than an energy threshold 
(defined by \fB-en\fP) are selected as potential target sites. Target
site alignments passing both thresholds and other information is produced
as output.
.PP
Optionally some rudimentary \fBstatistics\fP about each target site can
be generated by performing a number of alignments using shuffled
reference sequences (see \fB-shuffled\fP option). A distribution is built from these data and
statistical parameters from this distribution are used to produce
a Z-Score for a detected target site.

.SH "OPTIONS"
.TP 
.B \--help -h
Displays help, usage information and command-line options.
.TP 
.B \--version -v --license
Display version and license information.
.TP 
.B \-sc\ \fIscore\fP
Set the score threshold to \fBscore\fP. Only alignments with 
scores >= \fBscore\fP will be used for further analysis.
.TP 
.B \-en\ \fIenergy\fP
Set the energy threshold to \fBenergy\fP. Only alignments with
energies <= \fBenergy\fP will be used for further analysis. This value
should be negative.
.TP
.B \-scale\ \fIscale\fP
Set the scaling parameter to \fBscale\fP. This scaling is applied
to match / mismatch scores in the critical 10bp region of the 5' end
of the microRNA. Many known examples of miRNA:Target duplexes
are highly complementary in this region. This parameter can be thought
of as a contrast function to more effectively detect alignments of this
type.
.TP
.B \-loose
Remove strict alignment heuristics. In normal mode heuristics are
applied to predicted duplexes that count the number of complementary
base-pairs in different regions of the alignment according to observations
of known miRNA:target duplexes. Alignments that fail this test are
not displayed
Turning this option off is less conservative
but may result in more false-positive detections.
.TP 
.B \-go\ \fIX\fP
Set the gap-opening penalty to \fBX\fP for alignments. This
value should be negative.
.TP
.B \-ge\ \fIY\fP
Set the gap-extend penalty to \fBY\fP for alignments. This
value should be negative.
.TP 
.B \-out\ \fIfileout\fP
Print results to an output file called \fBfileout\fP.
.TP 
.B \-quiet
Quiet mode, produces the minimum of output.
.TP 
.B \-trim\ \fIT\fP
Trim reference sequences to \fBT\fP nucleotides. Useful when 
using noisy predicted 3'UTRs as reference sequences.
.TP 
.B \-noenergy
Turn off thermodynamic calculations from Vienna, This
is much much faster but relying on alignment scores alone
is probably dangerous, and susceptible to false-positives.
.TP
.B \-shuffle
For each analysis between a microRNA and a reference sequence, also
do \fBnshuff\fP alignments between the microRNA and shuffled reference
sequences. This is used to build a distribution of shuffled alignment
scores that can be used to estimate the reliability of a given score.
This analysis produces a \fBZ-Score\fP for each predicted target. It is
possible to filter results using this score with the \fB-z\fP option.
Shuffling statistics are optional and are not turned on by default. It should
also be noted that this dramatically increase the number of alignments
processed, and will slow the algorithm down considerably.
.TP 
.B \-s\ \fInshuff\fP
Set the total number of random shuffle analyses to \fBnshuff\fP. Larger
numbers of analyses produces a more reliable \fBZ-score\fP.
.TP 
.B \-w\ \fIW\fP
For window-based shuffling the window size can be changed by modifying
the \fBW\fP parameter. Window based shuffling maintains nucleotide composition
across the sequence, shuffling takes place in a small window that moves 
across the sequence.
.TP 
.B \-uniform
Disables windowed shuffling, and shuffles uniformly across the reference
sequence.
.TP 
.B \-z\ \fIzscore\fP
Sets a \fBZ-Score\fP threshold for all targets based on sequence shuffling
statistics. Only detected targets with \fBZ-Scores\fP >= \fBzscore\fP will
be displayed by the algorithm.

.SH "REFERENCES"
If you use this program for your research then please include the following
citation:
.PP
A.J. Enright, B. John, U. Gaul, T. Tuschl, C. Sander, D.S. Marks; (2003)
.br
MicroRNA targets in Drosophila; Genome Biology 5(1):R1.
.PP
RNAlib Citations:
.PP 
I.L. Hofacker, W. Fontana, P.F. Stadler, S. Bonhoeffer, M. Tacker, P. Schuster 
(1994)
Fast Folding and Comparison of RNA Secondary Structures.
Monatshefte f. Chemie 125: 167\-188
.PP
M. Zuker, P. Stiegler (1981) Optimal computer folding of large RNA
sequences using thermodynamic and auxiliary information, Nucl Acid Res
9: 133\-148
.PP
J.S. McCaskill (1990) The equilibrium partition function and base pair
binding probabilities for RNA secondary structures, Biopolymers 29: 1105\-1119
.br 
.SH "VERSION"
This man page documents version 1.0 of the miRanda package.
.SH "AUTHORS"
Anton Enright
.SH "BUGS"
Comments and bug-reports should be sent to miranda@cbio.mskcc.org.
